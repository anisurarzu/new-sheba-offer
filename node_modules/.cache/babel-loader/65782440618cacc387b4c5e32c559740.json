{"ast":null,"code":"import _slicedToArray from\"/Users/macbookair/Desktop/Anis/Sheba Offer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Spin}from\"antd\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import useAuth from\"../../hooks/useAuth\";import\"./MyQuestion.css\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var MyQuestion=function MyQuestion(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],setQuestions=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useAuth=useAuth(),user=_useAuth.user;var email=user===null||user===void 0?void 0:user.email;useEffect(function(){fetch(\"https://yellow-sparkly-station.glitch.me/questions\").then(function(res){return res.json();}).then(function(data){var question=data.filter(function(data){return data.email===email;});setQuestions(question);console.log(question);});},[]);var handleDeleteQuestion=function handleDeleteQuestion(id){var check=window.confirm(\"Are you sure,you want to delete this question?\");if(check){var url=\"https://yellow-sparkly-station.glitch.me/questions/\".concat(id);fetch(url,{method:\"DELETE\"}).then(function(res){return res.json();}).then(function(result){if(result.deletedCount>0){var restQuestion=questions.filter(function(question){return question._id!==id;});setQuestions(restQuestion);setMessage(\"Your question deleted Successfully!\");}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"question-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl heading-text  py-2\",children:[\"Questions: \",questions===null||questions===void 0?void 0:questions.length]}),/*#__PURE__*/_jsx(\"span\",{children:message}),/*#__PURE__*/_jsx(\"div\",{className:\"w-4/5 mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white  rounded my-2\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"text-left w-full border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\",children:\"Questions\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-4  pl-2 xl:px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:questions===null||questions===void 0?void 0:questions.map(function(question){return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-100\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"py-4 xl:px-6 border-b border-grey-light\",children:question.question}),/*#__PURE__*/_jsxs(\"td\",{className:\"py-4 xl:px-6 border-b border-grey-light flex\",children:[/*#__PURE__*/_jsx(Link,{to:\"/viewquestion/\".concat(question._id),className:\"text-white font-bold py-1 px-3 mr-1 rounded text-xs bg-green-500 hover:bg-green-600\",children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-white font-bold py-1 px-3  rounded text-xs bg-red-500 hover:bg-red-600\",onClick:function onClick(){return handleDeleteQuestion(question._id);},children:/*#__PURE__*/_jsx(\"i\",{class:\"far fa-trash-alt\"})})]})]},question._id);})})]})})})]});};export default MyQuestion;","map":{"version":3,"sources":["/Users/macbookair/Desktop/Anis/Sheba Offer/src/DashBoard/Myquestion/MyQuestion.js"],"names":["Spin","React","useEffect","useState","Link","useAuth","MyQuestion","questions","setQuestions","message","setMessage","user","email","fetch","then","res","json","data","question","filter","console","log","handleDeleteQuestion","id","check","window","confirm","url","method","result","deletedCount","restQuestion","_id","length","map"],"mappings":"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","sourcesContent":["import { Spin } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useAuth from \"../../hooks/useAuth\";\n\nimport \"./MyQuestion.css\";\n\nconst MyQuestion = () => {\n  const [questions, setQuestions] = useState();\n  const [message, setMessage] = useState(\"\");\n  const { user } = useAuth();\n  let email = user?.email;\n  useEffect(() => {\n    fetch(\"https://yellow-sparkly-station.glitch.me/questions\")\n      .then((res) => res.json())\n      .then((data) => {\n        const question = data.filter((data) => data.email === email);\n        setQuestions(question);\n        console.log(question);\n      });\n  }, []);\n\n  const handleDeleteQuestion = (id) => {\n    const check = window.confirm(\n      \"Are you sure,you want to delete this question?\"\n    );\n\n    if (check) {\n      const url = `https://yellow-sparkly-station.glitch.me/questions/${id}`;\n      fetch(url, {\n        method: \"DELETE\",\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          if (result.deletedCount > 0) {\n            const restQuestion = questions.filter(\n              (question) => question._id !== id\n            );\n            setQuestions(restQuestion);\n            setMessage(\"Your question deleted Successfully!\");\n          }\n        });\n    }\n  };\n  return (\n    <div className=\"question-container\">\n      <h1 className=\"text-2xl heading-text  py-2\">\n        Questions: {questions?.length}\n      </h1>\n      <span>{message}</span>\n\n      <div className=\"w-4/5 mx-auto\">\n        <div className=\"bg-white  rounded my-2\">\n          <table className=\"text-left w-full border-collapse\">\n            <thead>\n              <tr>\n                <th className=\"py-4 px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">\n                  Questions\n                </th>\n                <th className=\"py-4  pl-2 xl:px-6 bg-grey-lightest font-bold uppercase text-sm text-grey-dark border-b border-grey-light\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              {questions?.map((question) => (\n                <tr key={question._id} className=\"hover:bg-gray-100\">\n                  <td className=\"py-4 xl:px-6 border-b border-grey-light\">\n                    {question.question}\n                  </td>\n\n                  <td className=\"py-4 xl:px-6 border-b border-grey-light flex\">\n                    <Link\n                      to={`/viewquestion/${question._id}`}\n                      className=\"text-white font-bold py-1 px-3 mr-1 rounded text-xs bg-green-500 hover:bg-green-600\"\n                    >\n                      View\n                    </Link>\n                    {/* <button\n                      type=\"button\"\n                      data-bs-toggle=\"modal\"\n                      data-bs-target=\"#exampleModal\"\n                      className=\"text-white font-bold py-1 px-3  rounded text-xs bg-red-500 hover:bg-red-600\"\n                    >\n                      <i class=\"far fa-trash-alt\"></i>\n                    </button> */}\n                    <button\n                      className=\"text-white font-bold py-1 px-3  rounded text-xs bg-red-500 hover:bg-red-600\"\n                      onClick={() => handleDeleteQuestion(question._id)}\n                    >\n                      <i class=\"far fa-trash-alt\"></i>\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {/* modal */}\n\n        {/* modal */}\n      </div>\n    </div>\n  );\n};\n\nexport default MyQuestion;\n"]},"metadata":{},"sourceType":"module"}
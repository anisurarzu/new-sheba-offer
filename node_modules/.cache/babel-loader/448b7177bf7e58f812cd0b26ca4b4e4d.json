{"ast":null,"code":"import _objectSpread from\"/Users/macbookair/Desktop/Anis/Sheba Offer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/macbookair/Desktop/Anis/Sheba Offer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useForm}from\"react-hook-form\";import{useParams}from\"react-router-dom\";import useAuth from\"../../hooks/useAuth\";import Calendar from\"react-calendar\";import\"react-calendar/dist/Calendar.css\";import{Spin}from\"antd\";import NewForm from\"./Form/NewForm\";import dayjs from\"dayjs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GetSchedule=function GetSchedule(){var _useAuth=useAuth(),user=_useAuth.user,userInfo=_useAuth.userInfo;var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),date=_useState2[0],setDate=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFree=_useState4[0],setIsFree=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useForm=useForm(),register=_useForm.register,reset=_useForm.reset,handleSubmit=_useForm.handleSubmit;var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),scholar=_useState8[0],setScholar=_useState8[1];var _useParams=useParams(),scholarId=_useParams.scholarId;console.log(scholar);var onChange=function onChange(date){var _scholar$bookedDates;var sDate=dayjs(date).format(\"DD-MM-YYYY\");setDate(date);console.log(\"new-dates\",sDate);if(scholar===null||scholar===void 0?void 0:(_scholar$bookedDates=scholar.bookedDates)===null||_scholar$bookedDates===void 0?void 0:_scholar$bookedDates.includes(sDate)){setIsFree(false);}else{setIsFree(true);}};// get scholar information\nuseEffect(function(){fetch(\"https://yellow-sparkly-station.glitch.me/users/scholar/\".concat(scholarId)).then(function(res){return res.json();}).then(function(data){console.log(data,\"single\");setScholar(data);});},[]);//  sending schedule information\nvar onSubmit=function onSubmit(data){var orderStatus=\"pending\";data.status=orderStatus;data.scholarName=scholar===null||scholar===void 0?void 0:scholar.displayName;data.scholarId=scholar===null||scholar===void 0?void 0:scholar._id;data.scholarEmail=scholar===null||scholar===void 0?void 0:scholar.email;data.scholarImage=scholar===null||scholar===void 0?void 0:scholar.image;data.userName=user===null||user===void 0?void 0:user.displayName;data.userEmail=user===null||user===void 0?void 0:user.email;data.userImage=(user===null||user===void 0?void 0:user.photoURL)||(userInfo===null||userInfo===void 0?void 0:userInfo.image);data.bookingDate=dayjs(date).format(\"DD-MM-YYYY\");console.log(\"schedule\",data);fetch(\"https://yellow-sparkly-station.glitch.me/schedule\",{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(result){if(result.insertedId){reset();window.location.replace(\"/dashboard/schedulelist\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"span\",{children:message}),/*#__PURE__*/_jsx(\"section\",{className:\"text-gray-700 body-font overflow-hidden bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container px-5 py-12 mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-2 lg:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"xl:ml-24 lg:mr-24\",children:/*#__PURE__*/_jsx(Calendar,{className:\" rounded border border-gray-200 \",onChange:onChange,value:date})}),/*#__PURE__*/_jsx(\"div\",{children:!scholar?/*#__PURE__*/_jsx(Spin,{}):/*#__PURE__*/_jsxs(\"div\",{className:\" \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center pb-2 gap-4\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-24 h-24 xl:h-full xl:w-1/5 lg:w-1/5 rounded-full\",src:scholar===null||scholar===void 0?void 0:scholar.image,alt:\"\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-gray-900 pt-8 text-3xl heading-text font-medium mb-1\",children:scholar===null||scholar===void 0?void 0:scholar.displayName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"svg\",{fill:\"currentColor\",stroke:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-4 h-4 text-red-500\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})}),/*#__PURE__*/_jsx(\"svg\",{fill:\"currentColor\",stroke:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-4 h-4 text-red-500\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})}),/*#__PURE__*/_jsx(\"svg\",{fill:\"currentColor\",stroke:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-4 h-4 text-red-500\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})}),/*#__PURE__*/_jsx(\"svg\",{fill:\"currentColor\",stroke:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-4 h-4 text-red-500\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})}),/*#__PURE__*/_jsx(\"svg\",{fill:\"none\",stroke:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-4 h-4 text-red-500\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 ml-3\",children:\"4 Reviews\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex ml-3 pl-3 py-2 border-l-2 border-gray-200\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-5 h-5\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z\"})})}),/*#__PURE__*/_jsx(\"a\",{className:\"ml-2 text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-5 h-5\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z\"})})}),/*#__PURE__*/_jsx(\"a\",{className:\"ml-2 text-gray-500\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-5 h-5\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z\"})})})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"leading-relaxed\",children:\"Fam locavore kickstarter distillery. Mixtape chillwave tumeric sriracha taximy chia microdosing tilde DIY. XOXO fam indxgo juiceramps cornhole raw denim forage brooklyn. Everyday carry +1 seitan poutine tumeric. Gastropub blue bottle austin listicle pour-over, neutra jean shorts keytar banjo tattooed umami cardigan.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex mt-6 items-center pb-5 border-b-2 border-gray-200 mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex ml-6 items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title-font font-medium text-2xl text-gray-900\",children:\"$58.00\"}),/*#__PURE__*/_jsx(\"button\",{disabled:!isFree,type:\"button\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#staticBackdrop\",className:\"flex ml-auto text-white \".concat(isFree?\"bg-red-500 hover:bg-red-600\":\"bg-red-300 cursor-default\",\" border-0 py-2 px-6 focus:outline-none rounded\"),children:\"Apply\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rounded-full w-10 h-10 bg-gray-200 p-0 border-0 inline-flex items-center justify-center text-gray-500 ml-4\",children:/*#__PURE__*/_jsx(\"svg\",{fill:\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"2\",className:\"w-5 h-5\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z\"})})})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"staticBackdrop\",\"data-bs-backdrop\":\"static\",\"data-bs-keyboard\":\"false\",tabindex:\"-1\",\"aria-labelledby\":\"staticBackdropLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"leading-loose\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"xl:max-w-xl lg:max-w-xl m-4 p-10 bg-white rounded s\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800 font-medium\",children:\"Customer information\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm text-gray-600 text-left pb-2\",for:\"cus_email\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"phone\",{required:true,maxLength:20})),{},{className:\"w-1/3 xl:w-full px-2  py-2 text-gray-700 bg-gray-200 rounded\",type:\"number\",required:\"\",placeholder:\"Your Number\",\"aria-label\":\"Email\"}))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\" block text-sm text-left pb-2 text-gray-600\",for:\"cus_email\",children:\"Address\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"area\",{required:true})),{},{className:\"w-1/3 xl:w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\",type:\"text\",placeholder:\"Area\"}))]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"city\",{required:true})),{},{className:\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\",type:\"text\",required:\"\",placeholder:\"City\"}))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\" mr-2 mt-2 w-1/2 pr-1\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"upazila\",{})),{},{className:\"w-1/3 xl:w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\",type:\"text\",required:\"\",placeholder:\"Upazila\"}))}),/*#__PURE__*/_jsx(\"div\",{className:\" mt-2 pl-1 w-1/2\",children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"postCode\",{})),{},{className:\"w-1/3 xl:w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\",type:\"text\",required:\"\",placeholder:\"Post Code\"}))})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"border service-btn mt-4 text-green-500 rounded-md px-4 py-1 m-2 transition duration-500 ease select-none hover:text-white hover:bg-green-600 focus:outline-none focus:shadow-outline\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"border border-red-500 text-red-500 rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:text-white hover:bg-red-600 focus:outline-none focus:shadow-outline\",\"data-bs-dismiss\":\"modal\",children:\"Close\"})})]})})})]})})]});};export default GetSchedule;","map":{"version":3,"sources":["/Users/macbookair/Desktop/Anis/Sheba Offer/src/Pages/GetSchedule/GetSchedule.js"],"names":["React","useEffect","useState","useForm","useParams","useAuth","Calendar","Spin","NewForm","dayjs","GetSchedule","user","userInfo","Date","date","setDate","isFree","setIsFree","message","setMessage","register","reset","handleSubmit","scholar","setScholar","scholarId","console","log","onChange","sDate","format","bookedDates","includes","fetch","then","res","json","data","onSubmit","orderStatus","status","scholarName","displayName","_id","scholarEmail","email","scholarImage","image","userName","userEmail","userImage","photoURL","bookingDate","method","headers","body","JSON","stringify","result","insertedId","window","location","replace","required","maxLength"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useParams } from \"react-router-dom\";\nimport useAuth from \"../../hooks/useAuth\";\nimport Calendar from \"react-calendar\";\nimport \"react-calendar/dist/Calendar.css\";\nimport { Spin } from \"antd\";\nimport NewForm from \"./Form/NewForm\";\nimport dayjs from \"dayjs\";\n\nconst GetSchedule = () => {\n  const { user, userInfo } = useAuth();\n  const [date, setDate] = useState(new Date());\n  const [isFree, setIsFree] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const { register, reset, handleSubmit } = useForm();\n  const [scholar, setScholar] = useState();\n  const { scholarId } = useParams();\n\n  console.log(scholar);\n\n  const onChange = (date) => {\n    const sDate = dayjs(date).format(\"DD-MM-YYYY\");\n    setDate(date);\n\n    console.log(\"new-dates\", sDate);\n\n    if (scholar?.bookedDates?.includes(sDate)) {\n      setIsFree(false);\n    } else {\n      setIsFree(true);\n    }\n  };\n\n  // get scholar information\n\n  useEffect(() => {\n    fetch(`https://yellow-sparkly-station.glitch.me/users/scholar/${scholarId}`)\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data, \"single\");\n        setScholar(data);\n      });\n  }, []);\n\n  //  sending schedule information\n\n  const onSubmit = (data) => {\n    let orderStatus = \"pending\";\n    data.status = orderStatus;\n    data.scholarName = scholar?.displayName;\n    data.scholarId = scholar?._id;\n    data.scholarEmail = scholar?.email;\n    data.scholarImage = scholar?.image;\n    data.userName = user?.displayName;\n    data.userEmail = user?.email;\n    data.userImage = user?.photoURL || userInfo?.image;\n    data.bookingDate = dayjs(date).format(\"DD-MM-YYYY\");\n\n    console.log(\"schedule\", data);\n    fetch(\"https://yellow-sparkly-station.glitch.me/schedule\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify(data),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.insertedId) {\n          reset();\n          window.location.replace(\"/dashboard/schedulelist\");\n        }\n      });\n  };\n  return (\n    <div className=\"container\">\n      <span>{message}</span>\n      <section className=\"text-gray-700 body-font overflow-hidden bg-white\">\n        <div className=\"container px-5 py-12 mx-auto\">\n          <div className=\"grid grid-cols-1 xl:grid-cols-2 lg:grid-cols-2 gap-4\">\n            <div className=\"xl:ml-24 lg:mr-24\">\n              <Calendar\n                className=\" rounded border border-gray-200 \"\n                onChange={onChange}\n                value={date}\n              />\n            </div>\n            <div>\n              {!scholar ? (\n                <Spin></Spin>\n              ) : (\n                <div className=\" \">\n                  <div className=\"flex justify-center pb-2 gap-4\">\n                    <img\n                      className=\"w-24 h-24 xl:h-full xl:w-1/5 lg:w-1/5 rounded-full\"\n                      src={scholar?.image}\n                      alt=\"\"\n                    />\n                    <h1 className=\"text-gray-900 pt-8 text-3xl heading-text font-medium mb-1\">\n                      {scholar?.displayName}\n                    </h1>\n                  </div>\n\n                  <div className=\"flex mb-4\">\n                    <span className=\"flex items-center\">\n                      <svg\n                        fill=\"currentColor\"\n                        stroke=\"currentColor\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        className=\"w-4 h-4 text-red-500\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"></path>\n                      </svg>\n                      <svg\n                        fill=\"currentColor\"\n                        stroke=\"currentColor\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        className=\"w-4 h-4 text-red-500\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"></path>\n                      </svg>\n                      <svg\n                        fill=\"currentColor\"\n                        stroke=\"currentColor\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        className=\"w-4 h-4 text-red-500\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"></path>\n                      </svg>\n                      <svg\n                        fill=\"currentColor\"\n                        stroke=\"currentColor\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        className=\"w-4 h-4 text-red-500\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"></path>\n                      </svg>\n                      <svg\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        className=\"w-4 h-4 text-red-500\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"></path>\n                      </svg>\n                      <span className=\"text-gray-600 ml-3\">4 Reviews</span>\n                    </span>\n                    <span className=\"flex ml-3 pl-3 py-2 border-l-2 border-gray-200\">\n                      <a className=\"text-gray-500\">\n                        <svg\n                          fill=\"currentColor\"\n                          stroke-linecap=\"round\"\n                          stroke-linejoin=\"round\"\n                          stroke-width=\"2\"\n                          className=\"w-5 h-5\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path d=\"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z\"></path>\n                        </svg>\n                      </a>\n                      <a className=\"ml-2 text-gray-500\">\n                        <svg\n                          fill=\"currentColor\"\n                          stroke-linecap=\"round\"\n                          stroke-linejoin=\"round\"\n                          stroke-width=\"2\"\n                          className=\"w-5 h-5\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path d=\"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z\"></path>\n                        </svg>\n                      </a>\n                      <a className=\"ml-2 text-gray-500\">\n                        <svg\n                          fill=\"currentColor\"\n                          stroke-linecap=\"round\"\n                          stroke-linejoin=\"round\"\n                          stroke-width=\"2\"\n                          className=\"w-5 h-5\"\n                          viewBox=\"0 0 24 24\"\n                        >\n                          <path d=\"M21 11.5a8.38 8.38 0 01-.9 3.8 8.5 8.5 0 01-7.6 4.7 8.38 8.38 0 01-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 01-.9-3.8 8.5 8.5 0 014.7-7.6 8.38 8.38 0 013.8-.9h.5a8.48 8.48 0 018 8v.5z\"></path>\n                        </svg>\n                      </a>\n                    </span>\n                  </div>\n                  <p className=\"leading-relaxed\">\n                    Fam locavore kickstarter distillery. Mixtape chillwave\n                    tumeric sriracha taximy chia microdosing tilde DIY. XOXO fam\n                    indxgo juiceramps cornhole raw denim forage brooklyn.\n                    Everyday carry +1 seitan poutine tumeric. Gastropub blue\n                    bottle austin listicle pour-over, neutra jean shorts keytar\n                    banjo tattooed umami cardigan.\n                  </p>\n                  <div className=\"flex mt-6 items-center pb-5 border-b-2 border-gray-200 mb-5\">\n                    <div className=\"flex ml-6 items-center\">\n                      <div className=\"relative\"></div>\n                    </div>\n                  </div>\n                  <div className=\"flex\">\n                    <span className=\"title-font font-medium text-2xl text-gray-900\">\n                      $58.00\n                    </span>\n                    <button\n                      disabled={!isFree}\n                      type=\"button\"\n                      data-bs-toggle=\"modal\"\n                      data-bs-target=\"#staticBackdrop\"\n                      className={`flex ml-auto text-white ${\n                        isFree\n                          ? \"bg-red-500 hover:bg-red-600\"\n                          : \"bg-red-300 cursor-default\"\n                      } border-0 py-2 px-6 focus:outline-none rounded`}\n                    >\n                      Apply\n                    </button>\n                    <button className=\"rounded-full w-10 h-10 bg-gray-200 p-0 border-0 inline-flex items-center justify-center text-gray-500 ml-4\">\n                      <svg\n                        fill=\"currentColor\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                        stroke-width=\"2\"\n                        className=\"w-5 h-5\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <path d=\"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z\"></path>\n                      </svg>\n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* modal start */}\n          <div\n            className=\"modal fade\"\n            id=\"staticBackdrop\"\n            data-bs-backdrop=\"static\"\n            data-bs-keyboard=\"false\"\n            tabindex=\"-1\"\n            aria-labelledby=\"staticBackdropLabel\"\n            aria-hidden=\"true\"\n          >\n            <div className=\"modal-dialog\">\n              <div className=\"modal-content\">\n                {/* <div className=\"modal-header\">\n                  <h5 className=\"modal-title\" id=\"staticBackdropLabel\">\n                    Modal title\n                  </h5>\n                </div> */}\n                <div className=\"modal-body\">\n                  <div className=\"leading-loose\">\n                    <form\n                      onSubmit={handleSubmit(onSubmit)}\n                      className=\"xl:max-w-xl lg:max-w-xl m-4 p-10 bg-white rounded s\"\n                    >\n                      <p className=\"text-gray-800 font-medium\">\n                        Customer information\n                      </p>\n\n                      <div className=\"mt-2\">\n                        <label\n                          className=\"block text-sm text-gray-600 text-left pb-2\"\n                          for=\"cus_email\"\n                        >\n                          Phone\n                        </label>\n                        <input\n                          {...register(\"phone\", {\n                            required: true,\n                            maxLength: 20,\n                          })}\n                          className=\"w-1/3 xl:w-full px-2  py-2 text-gray-700 bg-gray-200 rounded\"\n                          type=\"number\"\n                          required=\"\"\n                          placeholder=\"Your Number\"\n                          aria-label=\"Email\"\n                        />\n                      </div>\n                      {/* <div className=\"mt-2\">\n                        <label\n                          className=\"block text-sm text-gray-600 text-left pb-2\"\n                          for=\"cus_email\"\n                        >\n                          NID\n                        </label>\n                        <input\n                          {...register(\"nid\", {\n                            required: true,\n                          })}\n                          className=\"w-full px-2  py-2 text-gray-700 bg-gray-200 rounded\"\n                          type=\"text\"\n                          required\n                          placeholder=\"Your NID Number\"\n                          aria-label=\"Email\"\n                        />\n                      </div> */}\n                      <div className=\"mt-2\">\n                        <label\n                          className=\" block text-sm text-left pb-2 text-gray-600\"\n                          for=\"cus_email\"\n                        >\n                          Address\n                        </label>\n                        <input\n                          {...register(\"area\", {\n                            required: true,\n                          })}\n                          className=\"w-1/3 xl:w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\n                          type=\"text\"\n                          placeholder=\"Area\"\n                        />\n                      </div>\n                      <div className=\"mt-2\">\n                        <input\n                          {...register(\"city\", {\n                            required: true,\n                          })}\n                          className=\"w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\n                          type=\"text\"\n                          required=\"\"\n                          placeholder=\"City\"\n                        />\n                      </div>\n                      <div className=\"flex\">\n                        <div className=\" mr-2 mt-2 w-1/2 pr-1\">\n                          <input\n                            {...register(\"upazila\", {})}\n                            className=\"w-1/3 xl:w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\n                            type=\"text\"\n                            required=\"\"\n                            placeholder=\"Upazila\"\n                          />\n                        </div>\n                        <div className=\" mt-2 pl-1 w-1/2\">\n                          <input\n                            {...register(\"postCode\", {})}\n                            className=\"w-1/3 xl:w-full px-2 py-2 text-gray-700 bg-gray-200 rounded\"\n                            type=\"text\"\n                            required=\"\"\n                            placeholder=\"Post Code\"\n                          />\n                        </div>\n                      </div>\n                      <input\n                        type=\"submit\"\n                        className=\"border service-btn mt-4 text-green-500 rounded-md px-4 py-1 m-2 transition duration-500 ease select-none hover:text-white hover:bg-green-600 focus:outline-none focus:shadow-outline\"\n                      />\n                    </form>\n                  </div>\n                </div>\n                <div className=\"modal-footer\">\n                  <button\n                    type=\"button\"\n                    className=\"border border-red-500 text-red-500 rounded-md px-4 py-2 m-2 transition duration-500 ease select-none hover:text-white hover:bg-red-600 focus:outline-none focus:shadow-outline\"\n                    data-bs-dismiss=\"modal\"\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* modal end */}\n        </div>\n      </section>\n    </div>\n  );\n};\n\nexport default GetSchedule;\n"]},"metadata":{},"sourceType":"module"}
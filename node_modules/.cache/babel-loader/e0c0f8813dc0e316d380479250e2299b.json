{"ast":null,"code":"import _objectSpread from\"/Users/macbookair/Desktop/Anis/Sheba Offer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/macbookair/Desktop/Anis/Sheba Offer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useForm}from\"react-hook-form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddScholar=function AddScholar(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setMessage=_useState2[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),scholarId=_useState4[0],setScholarId=_useState4[1];console.log(scholarId);useEffect(function(){fetch(\"https://yellow-sparkly-station.glitch.me/scholarId\").then(function(res){return res.json();}).then(function(data){console.log(data);setScholarId(data[0].islaimcFoundationId);});},[]);var onSubmit=function onSubmit(data){console.log(data);if(data.iFb_id===scholarId){fetch(\"https://yellow-sparkly-station.glitch.me/users/scholar\",{method:\"PUT\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(data){if(data.modifiedCount){setMessage(\"Id matched! Scholar added successfully\");reset();window.location.replace(\"/dashboard/scholarlist\");}});}else{setMessage(\"Islamic Foundation Id Does not Matched!\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"make-admin-container mt-8\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user text-5xl xl:text-9xl lg:text-9xl admin-icon\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center text-2xl pt-2\",children:\"Add Scholar\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"p-2 rounded-full mt-4 time-input\",type:\"email\"},register(\"email\")),{},{placeholder:\"enter a scholar email\",required:true})),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({className:\"p-2 rounded-full mt-4 time-input\",type:\"text\"},register(\"iFb_id\")),{},{placeholder:\"enter scholar (IFB_id)\",required:true})),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"btn-design my-4 px-2 rounded-full text-white\",type:\"submit\",value:\"Make Scholar\"})]}),/*#__PURE__*/_jsx(\"span\",{children:message})]});};export default AddScholar;","map":{"version":3,"sources":["/Users/macbookair/Desktop/Anis/Sheba Offer/src/DashBoard/AddScholar/AddScholar.js"],"names":["React","useEffect","useState","useForm","AddScholar","message","setMessage","register","handleSubmit","reset","scholarId","setScholarId","console","log","fetch","then","res","json","data","islaimcFoundationId","onSubmit","iFb_id","method","headers","body","JSON","stringify","modifiedCount","window","location","replace"],"mappings":"iUAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,iBAAxB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,eACOF,QAAQ,CAAC,KAAD,CADf,wCAChBG,OADgB,eACPC,UADO,4BAEmBH,OAAO,EAF1B,CAEfI,QAFe,UAEfA,QAFe,CAELC,YAFK,UAELA,YAFK,CAESC,KAFT,UAESA,KAFT,gBAGWP,QAAQ,CAAC,EAAD,CAHnB,yCAGhBQ,SAHgB,eAGLC,YAHK,eAIvBC,OAAO,CAACC,GAAR,CAAYH,SAAZ,EACAT,SAAS,CAAC,UAAM,CACda,KAAK,CAAC,oDAAD,CAAL,CACGC,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACdN,OAAO,CAACC,GAAR,CAAYK,IAAZ,EACAP,YAAY,CAACO,IAAI,CAAC,CAAD,CAAJ,CAAQC,mBAAT,CAAZ,CACD,CALH,EAMD,CAPQ,CAON,EAPM,CAAT,CAQA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACF,IAAD,CAAU,CACzBN,OAAO,CAACC,GAAR,CAAYK,IAAZ,EAEA,GAAIA,IAAI,CAACG,MAAL,GAAgBX,SAApB,CAA+B,CAC7BI,KAAK,CAAC,wDAAD,CAA2D,CAC9DQ,MAAM,CAAE,KADsD,CAE9DC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFqD,CAK9DC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf,CALwD,CAA3D,CAAL,CAOGH,IAPH,CAOQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAPR,EAQGF,IARH,CAQQ,SAACG,IAAD,CAAU,CACd,GAAIA,IAAI,CAACS,aAAT,CAAwB,CACtBrB,UAAU,CAAC,wCAAD,CAAV,CACAG,KAAK,GACLmB,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,wBAAxB,EACD,CACF,CAdH,EAeD,CAhBD,IAgBO,CACLxB,UAAU,CAAC,yCAAD,CAAV,CACD,CACF,CAtBD,CAwBA,mBACE,aAAK,SAAS,CAAC,2BAAf,wBACE,UAAG,SAAS,CAAC,yDAAb,EADF,cAEE,WAAI,SAAS,CAAC,2BAAd,yBAFF,cAGE,cAAM,QAAQ,CAAEE,YAAY,CAACY,QAAD,CAA5B,wBACE,0CACE,SAAS,CAAC,kCADZ,CAEE,IAAI,CAAC,OAFP,EAGMb,QAAQ,CAAC,OAAD,CAHd,MAIE,WAAW,CAAC,uBAJd,CAKE,QAAQ,KALV,GADF,cAQE,aARF,cASE,0CACE,SAAS,CAAC,kCADZ,CAEE,IAAI,CAAC,MAFP,EAGMA,QAAQ,CAAC,QAAD,CAHd,MAIE,WAAW,CAAC,wBAJd,CAKE,QAAQ,KALV,GATF,cAgBE,aAhBF,cAiBE,cACE,SAAS,CAAC,8CADZ,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAC,cAHR,EAjBF,GAHF,cA0BE,sBAAOF,OAAP,EA1BF,GADF,CA8BD,CAnED,CAqEA,cAAeD,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nconst AddScholar = () => {\n  const [message, setMessage] = useState(false);\n  const { register, handleSubmit, reset } = useForm();\n  const [scholarId, setScholarId] = useState(\"\");\n  console.log(scholarId);\n  useEffect(() => {\n    fetch(\"https://yellow-sparkly-station.glitch.me/scholarId\")\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setScholarId(data[0].islaimcFoundationId);\n      });\n  }, []);\n  const onSubmit = (data) => {\n    console.log(data);\n\n    if (data.iFb_id === scholarId) {\n      fetch(\"https://yellow-sparkly-station.glitch.me/users/scholar\", {\n        method: \"PUT\",\n        headers: {\n          \"content-type\": \"application/json\",\n        },\n        body: JSON.stringify(data),\n      })\n        .then((res) => res.json())\n        .then((data) => {\n          if (data.modifiedCount) {\n            setMessage(\"Id matched! Scholar added successfully\");\n            reset();\n            window.location.replace(\"/dashboard/scholarlist\");\n          }\n        });\n    } else {\n      setMessage(\"Islamic Foundation Id Does not Matched!\");\n    }\n  };\n\n  return (\n    <div className=\"make-admin-container mt-8\">\n      <i className=\"fas fa-user text-5xl xl:text-9xl lg:text-9xl admin-icon\"></i>\n      <h1 className=\"text-center text-2xl pt-2\">Add Scholar</h1>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <input\n          className=\"p-2 rounded-full mt-4 time-input\"\n          type=\"email\"\n          {...register(\"email\")}\n          placeholder=\"enter a scholar email\"\n          required\n        />\n        <br />\n        <input\n          className=\"p-2 rounded-full mt-4 time-input\"\n          type=\"text\"\n          {...register(\"iFb_id\")}\n          placeholder=\"enter scholar (IFB_id)\"\n          required\n        />\n        <br />\n        <input\n          className=\"btn-design my-4 px-2 rounded-full text-white\"\n          type=\"submit\"\n          value=\"Make Scholar\"\n        />\n      </form>\n      <span>{message}</span>\n    </div>\n  );\n};\n\nexport default AddScholar;\n"]},"metadata":{},"sourceType":"module"}
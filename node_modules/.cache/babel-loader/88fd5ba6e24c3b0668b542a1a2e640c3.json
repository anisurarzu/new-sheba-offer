{"ast":null,"code":"import _slicedToArray from\"/Users/macbookair/Desktop/Anis/Sheba Offer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import useAuth from\"../../../hooks/useAuth\";import\"./AllEvent.css\";import{Spin}from\"antd\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllEvents=function AllEvents(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),events=_useState2[0],setEvents=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useAuth=useAuth(),user=_useAuth.user;var email=user===null||user===void 0?void 0:user.email;useEffect(function(){fetch(\"https://yellow-sparkly-station.glitch.me/events\").then(function(res){return res.json();}).then(function(data){// console.log(\"event data\", data[0].email);\n// const event = data.filter((data) => data?.email === email);\nsetEvents(data);// console.log(event);\n});},[]);// delete an event\nvar handleDeleteEvent=function handleDeleteEvent(id){var check=window.confirm(\"Are you sure,you want to delete this event?\");if(check){var url=\"https://yellow-sparkly-station.glitch.me/event/\".concat(id);fetch(url,{method:\"DELETE\"}).then(function(res){return res.json();}).then(function(result){if(result.deletedCount>0){var restEvent=events.filter(function(event){return event._id!==id;});setEvents(restEvent);setMessage(\"Your event deleted Successfully!\");}});}};console.log(events);return/*#__PURE__*/_jsxs(\"div\",{className:\"event-container pt-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl xl:text-2xl lg:text-2xl \",children:\"My Events\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-3 lg:grid-cols-2 gap-4 \",children:events===null||events===void 0?void 0:events.map(function(event){return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 relative grid grid-cols-1 xl:flex lg:flex mx-2  shadow-md rounded\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"thumb-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-lg font-bold\",children:event.day}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:event.Month})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"  pl-4 pr-2   py-2 \",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-center text-lg xl:text-lg lg:text-lg \",children:event.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex  pl-8 text-center py-1\",children:[/*#__PURE__*/_jsxs(\"h6\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"far fa-clock pr-2\"}),event.time]}),/*#__PURE__*/_jsxs(\"h6\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-map-marker-alt pr-2\"}),event.location]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:event.platform}),/*#__PURE__*/_jsx(\"p\",{className:\"text-left  \",children:\"Lorem ipsum dolor sit amet consectetur adipisicing elit...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between pt-2 px-2 text-xl\",children:[/*#__PURE__*/_jsx(Link,{to:\"/eventDetails/\".concat(event._id),children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#staticBackdrop\",className:\" \",children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-info-circle \"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleDeleteEvent(event._id);},children:/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-trash-alt text-red-600\"})})]})]})]},event===null||event===void 0?void 0:event.id);})})]});};export default AllEvents;","map":{"version":3,"sources":["/Users/macbookair/Desktop/Anis/Sheba Offer/src/DashBoard/ScholarHouse/AllEvents/AllEvents.js"],"names":["React","useEffect","useState","Link","useAuth","Spin","AllEvents","events","setEvents","message","setMessage","user","email","fetch","then","res","json","data","handleDeleteEvent","id","check","window","confirm","url","method","result","deletedCount","restEvent","filter","event","_id","console","log","map","day","Month","title","time","location","platform"],"mappings":"iKAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAO,gBAAP,CACA,OAASC,IAAT,KAAqB,MAArB,C,wFACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eACMJ,QAAQ,EADd,wCACfK,MADe,eACPC,SADO,8BAEQN,QAAQ,CAAC,EAAD,CAFhB,yCAEfO,OAFe,eAENC,UAFM,4BAILN,OAAO,EAJF,CAIdO,IAJc,UAIdA,IAJc,CAMtB,GAAIC,CAAAA,KAAK,CAAGD,IAAH,SAAGA,IAAH,iBAAGA,IAAI,CAAEC,KAAlB,CACAX,SAAS,CAAC,UAAM,CACdY,KAAK,CAAC,iDAAD,CAAL,CACGC,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,CAAU,CACd;AACA;AACAT,SAAS,CAACS,IAAD,CAAT,CACA;AACD,CAPH,EAQD,CATQ,CASN,EATM,CAAT,CAWA;AACA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,EAAD,CAAQ,CAChC,GAAMC,CAAAA,KAAK,CAAGC,MAAM,CAACC,OAAP,CAAe,6CAAf,CAAd,CAEA,GAAIF,KAAJ,CAAW,CACT,GAAMG,CAAAA,GAAG,0DAAqDJ,EAArD,CAAT,CACAN,KAAK,CAACU,GAAD,CAAM,CACTC,MAAM,CAAE,QADC,CAAN,CAAL,CAGGV,IAHH,CAGQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAHR,EAIGF,IAJH,CAIQ,SAACW,MAAD,CAAY,CAChB,GAAIA,MAAM,CAACC,YAAP,CAAsB,CAA1B,CAA6B,CAC3B,GAAMC,CAAAA,SAAS,CAAGpB,MAAM,CAACqB,MAAP,CAAc,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACC,GAAN,GAAcX,EAAzB,EAAd,CAAlB,CACAX,SAAS,CAACmB,SAAD,CAAT,CACAjB,UAAU,CAAC,kCAAD,CAAV,CACD,CACF,CAVH,EAWD,CACF,CAjBD,CAkBAqB,OAAO,CAACC,GAAR,CAAYzB,MAAZ,EACA,mBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,WAAI,SAAS,CAAC,kCAAd,uBADF,cAEE,YAAK,SAAS,CAAC,uDAAf,UAEGA,MAFH,SAEGA,MAFH,iBAEGA,MAAM,CAAE0B,GAAR,CAAY,SAACJ,KAAD,qBACX,aAEE,SAAS,CAAC,wEAFZ,wBASE,aAAK,SAAS,CAAC,YAAf,wBACE,aAAM,SAAS,CAAC,8BAAhB,UAAgDA,KAAK,CAACK,GAAtD,EADF,cAEE,aAFF,cAGE,aAAM,SAAS,CAAC,YAAhB,UAA8BL,KAAK,CAACM,KAApC,EAHF,GATF,cAeE,aAAK,SAAS,CAAC,qBAAf,wBACE,WAAI,SAAS,CAAC,4CAAd,UACGN,KAAK,CAACO,KADT,EADF,cAIE,aAAK,SAAS,CAAC,6BAAf,wBACE,mCACE,UAAG,KAAK,CAAC,mBAAT,EADF,CAEGP,KAAK,CAACQ,IAFT,GADF,cAKE,mCACE,UAAG,KAAK,CAAC,4BAAT,EADF,CAEGR,KAAK,CAACS,QAFT,GALF,GAJF,cAcE,UAAG,SAAS,CAAC,aAAb,UAA4BT,KAAK,CAACU,QAAlC,EAdF,cAeE,UAAG,SAAS,CAAC,aAAb,wEAfF,cAkBE,aAAK,SAAS,CAAC,wCAAf,wBACE,KAAC,IAAD,EAAM,EAAE,yBAAmBV,KAAK,CAACC,GAAzB,CAAR,uBACE,eACE,IAAI,CAAC,QADP,CAEE,iBAAe,OAFjB,CAGE,iBAAe,iBAHjB,CAIE,SAAS,CAAC,GAJZ,uBAME,UAAG,KAAK,CAAC,qBAAT,EANF,EADF,EADF,cAWE,eAAQ,OAAO,CAAE,yBAAMZ,CAAAA,iBAAiB,CAACW,KAAK,CAACC,GAAP,CAAvB,EAAjB,uBACE,UAAG,KAAK,CAAC,+BAAT,EADF,EAXF,GAlBF,GAfF,GACOD,KADP,SACOA,KADP,iBACOA,KAAK,CAAEV,EADd,CADW,EAAZ,CAFH,EAFF,GADF,CA4DD,CAlGD,CAoGA,cAAeb,CAAAA,SAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport useAuth from \"../../../hooks/useAuth\";\nimport \"./AllEvent.css\";\nimport { Spin } from \"antd\";\nconst AllEvents = () => {\n  const [events, setEvents] = useState();\n  const [message, setMessage] = useState(\"\");\n\n  const { user } = useAuth();\n\n  let email = user?.email;\n  useEffect(() => {\n    fetch(\"https://yellow-sparkly-station.glitch.me/events\")\n      .then((res) => res.json())\n      .then((data) => {\n        // console.log(\"event data\", data[0].email);\n        // const event = data.filter((data) => data?.email === email);\n        setEvents(data);\n        // console.log(event);\n      });\n  }, []);\n\n  // delete an event\n  const handleDeleteEvent = (id) => {\n    const check = window.confirm(\"Are you sure,you want to delete this event?\");\n\n    if (check) {\n      const url = `https://yellow-sparkly-station.glitch.me/event/${id}`;\n      fetch(url, {\n        method: \"DELETE\",\n      })\n        .then((res) => res.json())\n        .then((result) => {\n          if (result.deletedCount > 0) {\n            const restEvent = events.filter((event) => event._id !== id);\n            setEvents(restEvent);\n            setMessage(\"Your event deleted Successfully!\");\n          }\n        });\n    }\n  };\n  console.log(events);\n  return (\n    <div className=\"event-container pt-12\">\n      <h2 className=\"text-xl xl:text-2xl lg:text-2xl \">My Events</h2>\n      <div className=\"grid grid-cols-1 xl:grid-cols-3 lg:grid-cols-2 gap-4 \">\n        {/* card 1 */}\n        {events?.map((event) => (\n          <div\n            key={event?.id}\n            className=\"mt-8 relative grid grid-cols-1 xl:flex lg:flex mx-2  shadow-md rounded\"\n          >\n            {/* <img\n              className=\"w-full xl:w-2/5 lg:w-2/5 object-cover  \"\n              src=\"\"\n              alt=\"\"\n            /> */}\n            <div className=\"thumb-text\">\n              <span className=\"text-white text-lg font-bold\">{event.day}</span>\n              <br />\n              <span className=\"text-white\">{event.Month}</span>\n            </div>\n\n            <div className=\"  pl-4 pr-2   py-2 \">\n              <h3 className=\"text-center text-lg xl:text-lg lg:text-lg \">\n                {event.title}\n              </h3>\n              <div className=\"flex  pl-8 text-center py-1\">\n                <h6>\n                  <i class=\"far fa-clock pr-2\"></i>\n                  {event.time}\n                </h6>\n                <h6>\n                  <i class=\"fas fa-map-marker-alt pr-2\"></i>\n                  {event.location}\n                </h6>\n              </div>\n              <p className=\"text-center\">{event.platform}</p>\n              <p className=\"text-left  \">\n                Lorem ipsum dolor sit amet consectetur adipisicing elit...\n              </p>\n              <div className=\"flex justify-between pt-2 px-2 text-xl\">\n                <Link to={`/eventDetails/${event._id}`}>\n                  <button\n                    type=\"button\"\n                    data-bs-toggle=\"modal\"\n                    data-bs-target=\"#staticBackdrop\"\n                    className=\" \"\n                  >\n                    <i class=\"fas fa-info-circle \"></i>\n                  </button>\n                </Link>\n                <button onClick={() => handleDeleteEvent(event._id)}>\n                  <i class=\"fas fa-trash-alt text-red-600\"></i>\n                </button>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default AllEvents;\n"]},"metadata":{},"sourceType":"module"}